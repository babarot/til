<!doctype html><html lang=ja class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Personal documentations about what I learn"><link href=https://b4b4r07.github.io/docs/guides/pdb/ rel=canonical><meta name=author content="Masaki ISHIYAMA"><meta name=lang:clipboard.copy content=ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã¸ã‚³ãƒ”ãƒ¼><meta name=lang:clipboard.copied content=ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ><meta name=lang:search.language content=ja><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content=ä½•ã‚‚è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ><meta name=lang:search.result.one content=1ä»¶è¦‹ã¤ã‹ã‚Šã¾ã—ãŸ><meta name=lang:search.result.other content=#ä»¶è¦‹ã¤ã‹ã‚Šã¾ã—ãŸ><meta name=lang:search.tokenizer content=[\s\-ã€€ã€ã€‚ï¼Œï¼]+><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.6.0"><title>Pdb - Documentations</title><link rel=stylesheet href=../../assets/stylesheets/application.1b62728e.css><link rel=stylesheet href=../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#546e7a><script src=../../assets/javascripts/modernizr.268332fc.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../assets/fonts/material-icons.css><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css></head> <body dir=ltr data-md-color-primary=blue-grey data-md-color-accent=blue-grey> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#tldr tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://b4b4r07.github.io/docs/ title=Documentations class="md-header-nav__button md-logo"> <i class=md-icon>î Œ</i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Documentations </span> <span class=md-header-nav__topic> Pdb </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=æ¤œç´¢ autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/b4b4r07/docs/ title=ãƒªãƒã‚¸ãƒˆãƒªã¸ class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> b4b4r07/docs </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://b4b4r07.github.io/docs/ title=Documentations class="md-nav__button md-logo"> <i class=md-icon>î Œ</i> </a> Documentations </label> <div class=md-nav__source> <a href=https://github.com/b4b4r07/docs/ title=ãƒªãƒã‚¸ãƒˆãƒªã¸ class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> b4b4r07/docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Concepts </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-1> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-1-1 type=checkbox id=nav-1-1> <label class=md-nav__link for=nav-1-1> Kubernetes </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-1-1> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/kubernetes/components/ title=Conponents class=md-nav__link> Conponents </a> </li> <li class=md-nav__item> <a href=../../concepts/kubernetes/helm/ title=Helm class=md-nav__link> Helm </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Guides </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../docs/guides/when-to-use-google-kubernetes-engine-vs-cloud-run-for-containers.md title="GKE ã¨ Cloud Runã€ã©ã†ä½¿ã„åˆ†ã‘ã‚‹ã¹ãã‹" class=md-nav__link> GKE ã¨ Cloud Runã€ã©ã†ä½¿ã„åˆ†ã‘ã‚‹ã¹ãã‹ </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> References </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-3> References </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../references/kubernetes/ title=Kubernetes class=md-nav__link> Kubernetes </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>ç›®æ¬¡</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#tldr class=md-nav__link> TL;DR </a> </li> <li class=md-nav__item> <a href=#node-pod-kubectl-drain class=md-nav__link> Node ã‹ã‚‰ Pod ã‚’é€€å»ã•ã›ã‚‹ (kubectl drain) </a> </li> <li class=md-nav__item> <a href=#kubectl-drain class=md-nav__link> kubectl drain ã®å‹•ä½œ </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_1 class=md-nav__link> å‹•ä½œä¾‹ </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> æ³¨æ„ãŒå¿…è¦ãªå ´åˆ </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#poddisruptionbudget-drain class=md-nav__link> PodDisruptionBudget ã«ã‚ˆã‚‹å®‰å…¨ãª drain </a> </li> <li class=md-nav__item> <a href=#poddisruptionbudget class=md-nav__link> PodDisruptionBudget ã®çŠ¶æ³ã‚’è¦‹ã‚‹ </a> </li> <li class=md-nav__item> <a href=#eviction-api class=md-nav__link> è£œè¶³: Eviction (é€€é¿) API </a> </li> <li class=md-nav__item> <a href=#poddisruptionbudget_1 class=md-nav__link> PodDisruptionBudget ã®å‹•ä½œã‚’è©¦ã—ã¦ã¿ã‚‹ </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> å‚è€ƒ </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/b4b4r07/docs/edit/master/docs/guides/pdb.md title=ç·¨é›† class="md-icon md-content__icon">&#xE3C9;</a> <h1>Pdb</h1> <p>OS ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚„ã‚¹ã‚±ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ãªã©ã§è¤‡æ•°ã® Node ã‚’å®‰å…¨ã«åœæ­¢ã—ãŸã„å ´åˆã®ãƒ¡ãƒ¢ã§ã™ã€‚ã“ã®è¨˜äº‹ã¯ Kubernetes 1.7.3 ã§ç¢ºèªã—ãŸæƒ…å ±ã‚’å…ƒã«è¨˜è¼‰ã—ã¦ã„ã¾ã™ã€‚</p> <h2 id=tldr>TL;DR<a class=headerlink href=#tldr title="Permanent link">#</a></h2> <ul> <li>Node ã‚’åœæ­¢ã™ã‚‹ãŸã‚ã«ã¯kubectl drain <node> ã‚³ãƒãƒ³ãƒ‰ã‚’åˆ©ç”¨ã—ã¦åœæ­¢æº–å‚™ã‚’è¡Œã„ã¾ã™</li> <li>drain ã¯ Node ã‚’ Pod ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å¯¾è±¡ã‹ã‚‰å¤–ã— (unschedulable ã«è¨­å®š) Node ä¸Šã® Pod ã‚’é€€å»ã•ã›ã‚‹ã“ã¨ã§åœæ­¢å¯èƒ½ãªçŠ¶æ…‹ã«ã—ã¾ã™</li> <li>ã—ã‹ã—è¤‡æ•°ã® Node ã‚’åœæ­¢ã•ã›ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã® Pod ãŒä¸€ã¤ã‚‚å‹•ä½œã—ã¦ã„ãªã„çŠ¶æ…‹ (ready ãª Pod ãŒ 0)ãŒã‚ã‚Šãˆã‚‹ã®ã§æ³¨æ„ãŒå¿…è¦ã§ã™ <img alt=ğŸ˜¨ class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/1f628.svg title=:fearful:> </li> <li><code class=codehilite>PodDisruptionBudget</code> ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§å®‰å…¨ãª Pod æ•°ã‚’ä¿ã£ãŸã¾ã¾è¤‡æ•° Node ã® drain ã‚’è¡Œã†ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ <img alt=ğŸ˜ƒ class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/1f603.svg title=:smiley:> </li> <li>å®‰å…¨ãª Pod æ•°ãŒç¢ºä¿ã§ãã‚‹ã¾ã§ <code class=codehilite>kubectl drain</code> ãŒ Pod ã®é€€å»ã‚’å¾…ã£ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™</li> </ul> <h2 id=node-pod-kubectl-drain>Node ã‹ã‚‰ Pod ã‚’é€€å»ã•ã›ã‚‹ (kubectl drain)<a class=headerlink href=#node-pod-kubectl-drain title="Permanent link">#</a></h2> <p>OS ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚„ã‚¹ã‚±ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ãªã©ã§ Node ã‚’åœæ­¢ã—ãŸã„å ´åˆã€ãã® Node ã«ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ Pod ã«é€€å»ã—ã¦ã‚‚ã‚‰ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®æ“ä½œã¯ <code class=codehilite>kubctl drain &lt;NODE&gt;</code> ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ã§ç°¡å˜ã«è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚</p> <p>ä¸‹è¨˜ã®ã‚ˆã†ã« Node åã‚’æŒ‡å®šã—ã¦ <code class=codehilite>kubectl drain</code> ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</p> <div class=codehilite><pre><span></span>$ kubectl drain --ignore-daemonsets --force gke-cluster-2-default-pool-0fb8a591-71rf
<span class=c1># Node ãŒ unschedulable ã«è¨­å®šã•ã‚Œã‚‹ (kubectl cordon ã¨åŒç­‰)</span>
node <span class=s2>&quot;gke-cluster-2-default-pool-0fb8a591-71rf&quot;</span> cordoned
WARNING: Deleting pods not managed by ReplicationController, ReplicaSet, Job, DaemonSet or StatefulSet: kube-proxy-gke-cluster-2-default-pool-0fb8a591-71rf<span class=p>;</span> Ignoring DaemonSet-managed pods: fluentd-gcp-v2.0-tt6mf
<span class=c1># ã“ã® Node ã«ã‚ã‚‹ Pod ãŒé€€å»ã•ã›ã‚‰ã‚Œã¦ã„ã</span>
pod <span class=s2>&quot;myapp-1243928920-bz02h&quot;</span> evicted
pod <span class=s2>&quot;heapster-v1.4.0-1718439912-xmg0k&quot;</span> evicted
<span class=c1># drain ãŒå®Œäº†</span>
node <span class=s2>&quot;gke-cluster-2-default-pool-0fb8a591-71rf&quot;</span> drained
</pre></div> <p>ãƒãƒ¼ãƒ‰ãŒæ­£ã—ã SchedulingDisabled (unschedulable) ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚å‹•ä½œä¸­ã® Pod ãŒãªããªã‚Šã€æ–°ãŸã« Pod ãŒã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚Œã‚‹ã“ã¨ã‚‚ãªã„ãŸã‚ã€ã“ã®ãƒãƒ¼ãƒ‰ã¯åœæ­¢ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p> <div class=codehilite><pre><span></span>$ kubectl get nodes
NAME                                       STATUS                     AGE       VERSION
gke-cluster-2-default-pool-0fb8a591-71rf   Ready,SchedulingDisabled   20m       v1.7.3 <span class=c1># SchedulingDisabled ã«ãªã£ãŸ</span>
gke-cluster-2-default-pool-0fb8a591-cmcl   Ready                      20m       v1.7.3
gke-cluster-2-default-pool-0fb8a591-d6pn   Ready                      20m       v1.7.3
gke-cluster-2-default-pool-0fb8a591-n1sr   Ready                      20m       v1.7.3
</pre></div> <h2 id=kubectl-drain>kubectl drain ã®å‹•ä½œ<a class=headerlink href=#kubectl-drain title="Permanent link">#</a></h2> <p><code class=codehilite>kubectl drain</code> ã§ã¯ä¸»ã«ä»¥ä¸‹ã®å‡¦ç†ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚</p> <ul> <li>Node ã«æ–°è¦ Pod ãŒã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚Œãªã„ã‚ˆã†ã« <code class=codehilite>unschedulable</code> ã®è¨­å®šã‚’è¡Œã†</li> <li>Node ã«ç´ä»˜ã‘ã‚‰ã‚Œã¦ã„ã‚‹ Pod ä¸€è¦§ã‚’å–å¾—ã—ã¦ã€Pod ç¾¤ã«é€€å» (evict) ã®å‡¦ç†ãŒè¡Œã‚ã‚Œã‚‹</li> <li>è©³ã—ãã¯å¾Œè¿°ã® Eviction API ã‚’ã”è¦§ãã ã•ã„</li> <li>evict ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œãªã„å ´åˆ(æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® API Server ãªã©)ã¯å˜ã«å‰Šé™¤å‡¦ç†ã«ãªã‚‹</li> </ul> <h3 id=_1>å‹•ä½œä¾‹<a class=headerlink href=#_1 title="Permanent link">#</a></h3> <p>ä¾‹ãˆã° Node ãŒ 4å°ã‚ã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ã« <code class=codehilite>myapp</code> ã¨ã„ã†ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒ 2 ã¤ã®ãƒãƒ¼ãƒ‰ã«ã‚ã‚‹çŠ¶æ…‹ã ã¨ã—ã¾ã™ã€‚myapp ã¯ ReplicaSet (ãƒ¬ãƒ—ãƒªã‚«æ•° 2) ã§ç®¡ç†ã•ã‚Œã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚</p> <p><img alt=image.png src=https://qiita-image-store.s3.amazonaws.com/0/100377/895dce05-15d7-a43d-6a32-29c23b8a1025.png></p> <p>node-1 ã«å¯¾ã—ã¦ <code class=codehilite>kubectl drain</code> ã‚’è¡Œã†ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªé †åºã§å‡¦ç†ãŒè¡Œã‚ã‚Œã¾ã™ã€‚</p> <ol> <li>node-1 ã‚’ <code class=codehilite>unschedulrable</code> ã«è¨­å®š</li> <li>node-1 ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸ Pod (ã“ã“ã§ã¯ myapp-1) ãŒé€€å»(evict)ã•ã›ã‚‰ã‚Œã¾ã™</li> <li>PodDisruptionBudget ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€é€€å»(evict) ã¯å˜ç´”ã« Pod ãŒå‰Šé™¤ã•ã‚Œã¾ã™</li> <li>kubectl ã® drain ã¯ã“ã“ã§çµ‚äº†ã—ã¾ã™</li> <li>ReplicaSet ã®åƒãã«ã‚ˆã£ã¦ node-3 ã«æ–°ãŸã« Pod ãŒä½œæˆã•ã‚Œã€ãƒ¬ãƒ—ãƒªã‚«æ•° 2 ãŒä¿ãŸã‚Œã¾ã™ã€‚</li> </ol> <p><img alt=image.png src=https://qiita-image-store.s3.amazonaws.com/0/100377/cea9b8c0-fdcc-2ce0-2abc-7df1d1b3497f.png></p> <h3 id=_2><img alt=âš ï¸ class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/26a0.svg title=:warning:> æ³¨æ„ãŒå¿…è¦ãªå ´åˆ<a class=headerlink href=#_2 title="Permanent link">#</a></h3> <p>ç¶šã‘ã¦ node-2 ã‚’ drain ã—ãŸã„å ´åˆæ³¨æ„ãŒå¿…è¦ã§ã™ã€‚æ–°ã—ãä½œæˆã•ã‚ŒãŸ myapp-3 ã® Pod ä½œæˆã«æ™‚é–“ãŒã‹ã‹ã£ãŸå ´åˆã¯ã€node-2 ã‚’ drain ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ä¸€ã¤ã‚‚ Pod ãŒ ready ã«ãªã£ã¦ã„ãªã„çŠ¶æ³ãŒèµ·ã“ã‚Šå¾—ã¾ã™ã€‚</p> <p><img alt=image.png src=https://qiita-image-store.s3.amazonaws.com/0/100377/7199eb1d-f1ed-b9dc-e867-61b3e1a7c556.png></p> <h2 id=poddisruptionbudget-drain>PodDisruptionBudget ã«ã‚ˆã‚‹å®‰å…¨ãª drain<a class=headerlink href=#poddisruptionbudget-drain title="Permanent link">#</a></h2> <p>PodDisruptionBudget ã¨ã¯ Node ã‚’è¨ˆç”»çš„ã«åœæ­¢ã—ãŸã„å ´åˆã«ã€Pod ã®çŠ¶æ³ã‚’è¦‹ãªãŒã‚‰é€€å» (evict) ã•ã›ã‚‹æ©Ÿèƒ½ã§ã™ã€‚åŸºæœ¬çš„ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ ReplicaSet ã«ã‚ˆã£ã¦è¤‡æ•°ã® Pod ãŒä¿æŒã•ã‚Œã¦ã„ã‚‹ãŸã‚å†—é•·æ€§ãŒã‚ã‚‹ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚PodDisruptionBudget ã¯åœæ­¢çŠ¶æ…‹ (Disruption) ã¨ã—ã¦è¨±å®¹ã§ãã‚‹ Pod æ•°ã‚’äºˆç®— (Budget) ã¨ã—ã¦å®šç¾©ã—ã¦ã€ãã®äºˆç®—å†…ã§é€€å»ã•ã›ã¦ã„ãã¾ã™ã€‚(<a href=https://landing.google.com/sre/book/chapters/embracing-risk.html#xref_risk-management_unreliability-budgets>Error Budget</a> çš„ãªåå‰ã§æ´’è½ã¦ã„ã¾ã™ã­)ã€‚</p> <p>PodDiruptionBudget ã§ã¯ä»¥ä¸‹ã®ã©ã¡ã‚‰ã‹ã®è¨­å®šãŒå¯èƒ½ã§ã™ã€‚</p> <ul> <li><code class=codehilite><span class=na>.spec.minAvailable</span></code>: å°‘ãªãã¨ã‚‚æœ‰åŠ¹ã§ã‚ã‚‹ã¹ã Pod æ•°ã€‚ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ã«ã‚ˆã‚‹æŒ‡å®šã‚‚å¯èƒ½</li> <li><code class=codehilite><span class=na>.spec.maxUnavailable</span></code>: æœ€å¤§ç„¡åŠ¹ã§ã‚ã£ã¦ã‚‚ã‚ˆã„ Pod æ•°ã€‚ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ã«ã‚ˆã‚‹æŒ‡å®šã‚‚å¯èƒ½ (v1.7 ä»¥ä¸Šã§åˆ©ç”¨å¯èƒ½)</li> </ul> <p>ä»¥ä¸‹ã®ã‚ˆã†ã« <code class=codehilite>PodDisruptionBudget</code> ãƒªã‚½ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¦åˆ©ç”¨ã—ã¾ã™ã€‚<code class=codehilite>kubectl create poddisruptionbudget</code> ã¨ã„ã†ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã‚‹ä½œæˆã‚‚å¯èƒ½ã§ã™ã€‚</p> <div class=codehilite><pre><span></span><span class=nt>apiVersion</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">policy/v1beta1</span>
<span class=nt>kind</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">PodDisruptionBudget</span>
<span class=nt>metadata</span><span class=p>:</span>
  <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">myapp</span>
<span class=nt>spec</span><span class=p>:</span>
  <span class=c1># æœ€å¤§ã§ç„¡åŠ¹çŠ¶æ…‹ãª Pod ã¯ 1 ã«è¨­å®šã€‚ã“ã‚Œã‚’è¶…ãˆã¦ã¯é€€å»ã•ã›ã‚‰ã‚Œãªã„</span>
  <span class=nt>maxUnavailable</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class=c1># å¯¾è±¡ Pod ã®ã‚»ãƒ¬ã‚¯ã‚¿</span>
  <span class=nt>selector</span><span class=p>:</span>
    <span class=nt>matchLabels</span><span class=p>:</span>
      <span class=nt>run</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">myapp</span>
</pre></div> <p>ã“ã‚Œã‚’è¨­å®šã™ã‚‹ã¨å‰è¿°ã®ä¾‹ã® Node-2 ã®é€€å»ã¯ä»¥ä¸‹ã®å‹•ä½œã«ãªã‚Šã¾ã™ã€‚</p> <ol> <li>node-2 ã‚’ unschedulrable ã«è¨­å®š</li> <li>node-2 ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸ Pod (ã“ã“ã§ã¯ myapp-1) ã‚’é€€å»(evict)ã—ã‚ˆã†ã¨ã™ã‚‹</li> <li>ã™ã§ã« unavailable ã® Pod ãŒã‚ã‚Š PodDisruptionBudget ã‚’è¶…ãˆã¦ã—ã¾ã†ãŸã‚é€€å»ã‚’å¾…ã¡ã¾ã™ (5 ç§’é–“éš”ã§ãƒªãƒˆãƒ©ã‚¤)</li> </ol> <p><img alt=image.png src=https://qiita-image-store.s3.amazonaws.com/0/100377/42042d6d-7365-ec7d-532e-02cd3c334892.png></p> <p>node-3 ã® Pod ãŒ ready ã«ãªã‚Š PodDisruptionBudget ã‚’æº€ãŸã™ã‚ˆã†ã«ãªã‚‹ã¨ node-2 ã® Pod ã¯å‰Šé™¤ã•ã‚Œã¾ã™ã€‚</p> <p><img alt=image.png src=https://qiita-image-store.s3.amazonaws.com/0/100377/7eaf76af-ce70-624d-1018-f9324d1a2f09.png></p> <h2 id=poddisruptionbudget>PodDisruptionBudget ã®çŠ¶æ³ã‚’è¦‹ã‚‹<a class=headerlink href=#poddisruptionbudget title="Permanent link">#</a></h2> <p>PodDisruptionBudget ãƒªã‚½ãƒ¼ã‚¹ã«ã¯ç®¡ç†ã•ã‚Œã¦ã„ã‚‹ Pod ã®çŠ¶æ…‹ãŒè¨˜è¿°ã•ã‚Œã¦ã„ã¾ã™ã€‚<code class=codehilite>kubectl get pdb</code> ã§è¨­å®šçŠ¶æ³ã¨ç¾åœ¨åœæ­¢ãŒè¨±å®¹ã•ã‚Œã‚‹ Pod æ•° (<code class=codehilite>ALLOWED-DISRUPTIONS</code>) ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p> <div class=codehilite><pre><span></span>$ kubectl get pdb
NAME      MIN-AVAILABLE   MAX-UNAVAILABLE   ALLOWED-DISRUPTIONS   AGE
myapp     N/A             <span class=m>1</span>                 <span class=m>1</span>                     2m
</pre></div> <p>è©³ç´°ãªçŠ¶æ³ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p> <div class=codehilite><pre><span></span>$ kubectl get pdb -o yaml myapp
</pre></div> <div class=codehilite><pre><span></span><span class=nt>apiVersion</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">policy/v1beta1</span>
<span class=nt>kind</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">PodDisruptionBudget</span>
<span class=nt>metadata</span><span class=p>:</span>
  <span class=nt>annotations</span><span class=p>:</span>
    <span class=nt>kubectl.kubernetes.io/last-applied-configuration</span><span class=p>:</span> <span class="p p-Indicator">|</span>
      <span class=no>{&quot;apiVersion&quot;:&quot;policy/v1beta1&quot;,&quot;kind&quot;:&quot;PodDisruptionBudget&quot;,&quot;metadata&quot;:{&quot;annotations&quot;:{},&quot;name&quot;:&quot;myapp&quot;,&quot;namespace&quot;:&quot;default&quot;},&quot;spec&quot;:{&quot;maxUnavailable&quot;:1,&quot;selector&quot;:{&quot;matchLabels&quot;:{&quot;run&quot;:&quot;myapp&quot;}}}}</span>
  <span class=nt>creationTimestamp</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">2017-08-28T07:53:13Z</span>
  <span class=nt>generation</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">myapp</span>
  <span class=nt>namespace</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
  <span class=nt>resourceVersion</span><span class=p>:</span> <span class=s>&quot;8859&quot;</span>
  <span class=nt>selfLink</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">/apis/policy/v1beta1/namespaces/default/poddisruptionbudgets/myapp</span>
  <span class=nt>uid</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">f14ed83b-8bc5-11e7-862c-42010af00125</span>
<span class=nt>spec</span><span class=p>:</span>
  <span class=nt>maxUnavailable</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class=nt>selector</span><span class=p>:</span>
    <span class=nt>matchLabels</span><span class=p>:</span>
      <span class=nt>run</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">myapp</span>
<span class=nt>status</span><span class=p>:</span>
  <span class=c1># ready çŠ¶æ…‹ã® Pod æ•°</span>
  <span class=nt>currentHealthy</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
  <span class=c1># ã“ã®æ•°ã‚’ä¸‹å›ã£ã¦ã¯ Evicton ã§ããªã„</span>
  <span class=nt>desiredHealthy</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">9</span>
  <span class=nt>disruptedPods</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
  <span class=c1># ç¾åœ¨åœæ­¢ãŒè¨±ã•ã‚Œã‚‹ Pod æ•°ã€‚currentHealthy - desiredHealthy ã§è¨ˆç®—ã•ã‚Œã‚‹</span>
  <span class=nt>disruptionsAllowed</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class=nt>expectedPods</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
  <span class=nt>observedGeneration</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div> <h2 id=eviction-api>è£œè¶³: Eviction (é€€é¿) API<a class=headerlink href=#eviction-api title="Permanent link">#</a></h2> <p><code class=codehilite>kubectl drain</code> ã§ã¯å†…éƒ¨çš„ã«ã¯ Pod ã®å‰Šé™¤(DELETE)ã§ã¯ãªãã€Eviction API ã¨ã„ã† Pod ã®ã‚µãƒ–ãƒªã‚½ãƒ¼ã‚¹ã‚’å‘¼ã³å‡ºã—ã¦ Node ã«ç´ã¥ã Pod ã®é€€é¿ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚Pod ã®å‰Šé™¤ã¨ã®é•ã„ã¯ PodDiruptionBudget ã‚’å‚ç…§ã—äºˆç®—ã‚’æº€ãŸã•ãªã„å ´åˆã¯å‰Šé™¤ã›ãšã« <a href=https://httpstatuses.com/429>429 Too Many Requests</a> ã‚’è¿”ã™ç‚¹ã§ã™ã€‚</p> <p>Eviction ã‚µãƒ–ãƒªã‚½ãƒ¼ã‚¹ã¯ Pod ã®ã‚µãƒ–ãƒªã‚½ãƒ¼ã‚¹ã¨ã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚</p> <div class=codehilite><pre><span></span>/api/v1/namespaces/&lt;NAMESPACE&gt;/pods/&lt;POD&gt;/eviction
</pre></div> <p>ã“ã® API ã«å¯¾ã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ãª Eviction ã‚µãƒ–ãƒªã‚½ãƒ¼ã‚¹ ã‚’ POST ã—ã¾ã™ã€‚</p> <div class=codehilite><pre><span></span><span class=p>{</span>
  <span class=nt>&quot;kind&quot;</span><span class=p>:</span> <span class=s2>&quot;Eviction&quot;</span><span class=p>,</span>
  <span class=nt>&quot;apiVersion&quot;</span><span class=p>:</span> <span class=s2>&quot;policy/v1beta1&quot;</span><span class=p>,</span>
  <span class=nt>&quot;metadata&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;myapp-1243928920-bz02h&quot;</span><span class=p>,</span> <span class=err>#</span> <span class=err>POD</span> <span class=err>å</span>
    <span class=nt>&quot;namespace&quot;</span><span class=p>:</span> <span class=s2>&quot;default&quot;</span><span class=p>,</span>
    <span class=nt>&quot;creationTimestamp&quot;</span><span class=p>:</span> <span class=kc>null</span>
  <span class=p>},</span>
  <span class=nt>&quot;deleteOptions&quot;</span><span class=p>:</span> <span class=p>{}</span>
<span class=p>}</span>
</pre></div> <p>Eviction API ã¯ PodDiruptionBudget ã‚’å‚ç…§ã—ã€å®šç¾©ã—ãŸäºˆç®—ã‚’æº€ãŸã—ã¦ã„ã‚‹å ´åˆã¯ Pod ã®å‰Šé™¤ã—ã¦ HTTP ã® <a href=https://httpstatuses.com/201>201 Created</a>ã€æº€ãŸã—ã¦ã„ãªã„å ´åˆã¯å‰Šé™¤ã›ãš HTTP ã® <a href=https://httpstatuses.com/429>429 Too Many Requests</a> ã‚’è¿”ã—ã¾ã™ã€‚</p> <div class=codehilite><pre><span></span><span class=c1># kubectl ã® verbose ãƒ­ã‚°</span>
I0828 <span class=m>14</span>:12:38.049411   <span class=m>29825</span> round_trippers.go:405<span class=o>]</span> POST https://35.194.250.38/api/v1/namespaces/default/pods/myapp-1243928920-cpmcr/eviction <span class=m>429</span> Too Many Requests in <span class=m>39</span> milliseconds
</pre></div> <p>kubectl drain ã§ã¯ <code class=codehilite>429 Too Many Requests</code> ã®ã¨ãã¯ 5 ç§’ã”ã¨ã«ãƒªãƒˆãƒ©ã‚¤ã™ã‚‹å®Ÿè£…ã«ãªã£ã¦ãŠã‚Šã€äºˆç®—ã‚’æº€ãŸã™ã‹ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ(<code class=codehilite>--timeout</code> ã®å€¤)ã«ãªã‚‹ã¾ã§å¾…ã¡ç¶šã‘ã¾ã™ã€‚(å‚è€ƒ: <a href=https://github.com/kubernetes/kubernetes/blob/3b2417a7f8ee8ffbfaab8cd05d5737ae0306c87b/pkg/kubectl/cmd/drain.go#L500>drain.go#L500</a>)</p> <h2 id=poddisruptionbudget_1>PodDisruptionBudget ã®å‹•ä½œã‚’è©¦ã—ã¦ã¿ã‚‹<a class=headerlink href=#poddisruptionbudget_1 title="Permanent link">#</a></h2> <p>PodDisruptionBudget ã‚’å®Ÿéš›ã«è©¦ã—ã¦ã¿ã¾ã™ã€‚ã“ã“ã§ã¯ ready ã«ãªã‚‹ã¾ã§ã«æ™‚é–“ãŒã‹ã‹ã‚‹(2åˆ†)ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã€maxUnavailable ã‚’ 1 ã«è¨­å®šã—ã¦ã„ã¾ã™ã€‚(<a href=https://gist.github.com/tksm/7fa6af30b7e2fb18182351687089d975>ä½¿ç”¨ã—ãŸ Deployment ã¨ PodDisruptionBudget ã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ</a>)ã€‚ä¸‹è¨˜ã®ã‚ˆã†ã« Pod ãŒ 2 ã¤ã® Node ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¦ã„ã‚‹çŠ¶æ…‹ã‹ã‚‰å§‹ã‚ã¾ã™ã€‚Node ã¯å…¨ä½“ã§ 4 ã¤ã‚ã‚Šã¾ã™ã€‚</p> <div class=codehilite><pre><span></span>$ kubectl get pods -o wide
NAME                     READY     STATUS    RESTARTS   AGE       IP         NODE
myapp-1871887261-k5v4s   <span class=m>1</span>/1       Running   <span class=m>0</span>          2m        <span class=m>10</span>.8.0.7   gke-cluster-1-default-pool-94337df7-lnc5
myapp-1871887261-x23z5   <span class=m>1</span>/1       Running   <span class=m>0</span>          2m        <span class=m>10</span>.8.2.6   gke-cluster-1-default-pool-94337df7-sfp4
</pre></div> <p>Pod ãŒãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¦ã„ã‚‹ 2 Node ã«å¯¾ã—ã¦åŒæ™‚ã« drain ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚</p> <div class=codehilite><pre><span></span>$ kubectl drain --ignore-daemonsets --force gke-cluster-1-default-pool-94337df7-lnc5
$ kubectl drain --ignore-daemonsets --force gke-cluster-1-default-pool-94337df7-sfp4
</pre></div> <p>ReplicaSet ã‚’ watch ã—ã¦ drain ä¸­ã® Pod ã®çŠ¶æ…‹ã‚’è¦‹ã¦ã¾ã™ã€‚æƒ³å®šã©ãŠã‚Š PodDisruptionBudget ã®ãŠã‹ã’ã§ ready ã® Pod ãŒå¸¸ã«ã‚ã‚‹çŠ¶æ…‹ã‚’ä¿ã£ã¦ã„ã¾ã™ã€‚Node ã®ä¸€ã¤ã¯ drain ãŒã™ãã«çµ‚ã‚ã‚Šã€ã‚‚ã†ä¸€ã¤ã® Node ã¯ drain ãŒ PodDisruptionBudget ã§å®šç¾©ã—ãŸ Pod ã®ready ã‚’å¾…ã¤ãŸã‚ã«ç´„ 2 åˆ†é–“ã‹ã‹ã‚Šã¾ã—ãŸã€‚</p> <div class=codehilite><pre><span></span><span class=c1># DESIRED : ReplicaSet ã§å®šç¾©ã—ãŸãƒ¬ãƒ—ãƒªã‚«æ•°</span>
<span class=c1># CURRENT : Pod æ•° (ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¯é–¢ä¿‚ãªã—)</span>
<span class=c1># READY   : ready çŠ¶æ…‹ã® Pod æ•°</span>

$ kubectl get rs -w
NAME               DESIRED   CURRENT   READY     AGE
myapp-1871887261   <span class=m>2</span>         <span class=m>2</span>         <span class=m>2</span>         3m <span class=c1># drain å®Ÿè¡Œå‰</span>
myapp-1871887261   <span class=m>2</span>         <span class=m>1</span>         <span class=m>1</span>         3m <span class=c1># ã²ã¨ã¤ã‚ã® Node ã® drain ã«ã‚ˆã£ã¦ Pod ãŒæ¸›ã‚‹</span>
myapp-1871887261   <span class=m>2</span>         <span class=m>2</span>         <span class=m>1</span>         3m <span class=c1># ReplicaSet ã«ã‚ˆã£ã¦ Pod ãŒå¢—ãˆã‚‹ãŒ ready ã«ã¯ãªã‚‰ãªã„</span>
<span class=c1># ready ã‚’å¾…ã¤ãŸã‚ã«ã“ã“ã§ç´„ 2åˆ†é–“ã‹ã‹ã‚‹</span>
myapp-1871887261   <span class=m>2</span>         <span class=m>2</span>         <span class=m>2</span>         5m <span class=c1># 2 ã¤ready ã«ãªã£ãŸã®ã§ ãµãŸã¤ã‚ã® Node ã‚‚ drain ã§ãã‚‹</span>
myapp-1871887261   <span class=m>2</span>         <span class=m>1</span>         <span class=m>1</span>         5m <span class=c1># ãµãŸã¤ã‚ã® Node ã® drain ã«ã‚ˆã£ã¦ Pod ãŒæ¸›ã‚‹</span>
myapp-1871887261   <span class=m>2</span>         <span class=m>2</span>         <span class=m>1</span>         5m <span class=c1># ReplicaSet ã«ã‚ˆã£ã¦ Pod ãŒå¢—ãˆã‚‹ãŒ ready ã«ã¯ãªã‚‰ãªã„</span>
myapp-1871887261   <span class=m>2</span>         <span class=m>2</span>         <span class=m>2</span>         7m <span class=c1># 2 åˆ†ãŸã£ã¦ã™ã¹ã¦ãŒ ready ã«ãªã‚‹</span>
</pre></div> <h2 id=_3>å‚è€ƒ<a class=headerlink href=#_3 title="Permanent link">#</a></h2> <ul> <li><a href=https://kubernetes.io/docs/concepts/workloads/pods/disruptions/ >Disruptions</a></li> <li><a href=https://kubernetes.io/docs/tasks/run-application/configure-pdb/ >Specifying a Disruption Budget for your Application</a></li> <li><a href=https://github.com/kubernetes/kubernetes/issues/12611>DisruptionBudget object to define the max disruption that can be caused to pods #12611</a></li> <li><a href=https://kubernetes.io/docs/tasks/administer-cluster/safely-drain-node/ >Safely Drain a Node while Respecting Application SLOs</a></li> <li><a href=https://github.com/kubernetes/features/issues/85>PodDisruptionBudget and /eviction subresource #85</a></li> </ul> <hr> <div class=md-source-date> <small> æœ€å¾Œã®æ›´æ–°: 47ç§’å‰ </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2019 Masaki ISHIYAMA </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> <div class=md-footer-social> <link rel=stylesheet href=../../assets/fonts/font-awesome.css> <a href=https://tellme.tokyo class="md-footer-social__link fa fa-globe"></a> <a href=https://github.com/b4b4r07 class="md-footer-social__link fa fa-github"></a> <a href=https://twitter.com/b4b4r07 class="md-footer-social__link fa fa-twitter"></a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/application.808e90bb.js></script> <script src=../../assets/javascripts/lunr/lunr.stemmer.support.js></script> <script src=../../assets/javascripts/lunr/tinyseg.js></script> <script src=../../assets/javascripts/lunr/lunr.ja.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script> </body> </html>